<!DOCTYPE html>
<html>

<head>
    <title>UCMCIS_2ndExp</title>
    <script src="https://unpkg.com/jspsych@7.3.1"></script>
    <script src="https://unpkg.com/@jspsych/plugin-html-keyboard-response@1.1.2"></script>
    <script src="https://unpkg.com/@jspsych/plugin-sketchpad@1.0.3"></script>
    <script src="https://unpkg.com/@jspsych/plugin-preload@1.1.2"></script>
    <script src="https://unpkg.com/@jspsych/plugin-survey-html-form@1.0.2"></script>
    <script src="https://unpkg.com/@jspsych/plugin-survey@0.2.1"></script>
    <script src="https://unpkg.com/@jspsych/plugin-instructions@1.1.1"></script>
    <script src="https://unpkg.com/@jspsych/plugin-fullscreen@1.1.1"></script>
    <script src="https://unpkg.com/@jspsych-contrib/plugin-pipe"></script>
    <script src="https://unpkg.com/@jspsych/plugin-browser-check@1.0.1"></script>
    <script src="https://unpkg.com/@jspsych/plugin-video-keyboard-response@1.1.1"></script>

    <link href="https://unpkg.com/jspsych@7.3.1/css/jspsych.css" rel="stylesheet" type="text/css" />
</head>

<body></body>
<script>

    // fix the indents with CTRL K, then Ctrl F (highlight first though!)

    // experiment ID from DataPipe
    const expID = "mpvQSL8NChQb";

    // intialize jsPsych
    var jsPsych = initJsPsych({
        // on_finish: function() {
        //     jsPsych.data.displayData();

        // }
    });

    //To run the experiment without Prolific website 
    // const subject_id = jsPsych.randomization.randomID(10);
    // jsPsych.data.addProperties({subject_id: subject_id});

    //To run the experiment from Prolific website 
    // capture info from Prolific

    // var subject_id = jsPsych.data.getURLVariable('PROLIFIC_PID');
    // var study_id = jsPsych.data.getURLVariable('STUDY_ID');
    // var session_id = jsPsych.data.getURLVariable('SESSION_ID');
    // jsPsych.data.addProperties({
    //     subject_id: subject_id,
    //     study_id: study_id,
    //     session_id: session_id
    // });


    const subject_id = jsPsych.randomization.randomID(10);
    jsPsych.data.addProperties({ subject_id: subject_id });



    var timeline = [];

    var tr_duration = 3000;
    var Maze_Linear = ['Venice_Map.png'];
    var Maze_Diverse = ['Venice_Map.png'];


    var let_set = [
        "<b>ab</b>",
        "<b>da</b>",
        "<b>ea</b>",
        "<b>gl</b>",
        "<b>gr</b>",
        "<b>le</b>",
        "<b>mi</b>",
        "<b>pr</b>",
        "<b>st</b>",
        "<b>zo</b>",
    ];
    var shuffled_let_set = jsPsych.randomization.repeat(let_set, 1);

    var CRAP_set = [
        '<b>pie' + '\xa0\xa0\xa0\xa0' + 'luck' + '\xa0\xa0\xa0\xa0' + 'belly</b>',
        '<b>opera' + '\xa0\xa0\xa0\xa0' + 'hand' + '\xa0\xa0\xa0\xa0' + 'dish</b>',
        '<b>dust' + '\xa0\xa0\xa0\xa0' + 'cereal' + '\xa0\xa0\xa0\xa0' + 'fish</b>',
        '<b>light' + '\xa0\xa0\xa0\xa0' + 'birthday' + '\xa0\xa0\xa0\xa0' + 'stick</b>',
        '<b>palm' + '\xa0\xa0\xa0\xa0' + 'shoe' + '\xa0\xa0\xa0\xa0' + 'house</b>',
        '<b>sage' + '\xa0\xa0\xa0\xa0' + 'paint' + '\xa0\xa0\xa0\xa0' + 'hair</b>',
        '<b>french' + '\xa0\xa0\xa0\xa0' + 'car' + '\xa0\xa0\xa0\xa0' + 'shoe</b>',
        '<b>carpet' + '\xa0\xa0\xa0\xa0' + 'alert' + '\xa0\xa0\xa0\xa0' + 'ink</b>',
        '<b>mouse' + '\xa0\xa0\xa0\xa0' + 'bear' + '\xa0\xa0\xa0\xa0' + 'sand</b>',
        '<b>show' + '\xa0\xa0\xa0\xa0' + 'life' + '\xa0\xa0\xa0\xa0' + 'row</b>',
    ];
    var shuffled_CRAP_set = jsPsych.randomization.repeat(CRAP_set, 1);

    var Venice1_prompt_linear = [

        "<p>Imagine there are five items on the red dots. Deliver the items from the red spots to the follwoing location (hold <b>Ctrl</b> to draw):<p> <b>94<b> <p>",
        "<p>Imagine there are five items on the red dots. Deliver the items from the red spots to the follwoing location (hold <b>Ctrl</b> to draw):<p> <b>34<b> <p>",
        "<p>Imagine there are five items on the red dots. Deliver the items from the red spots to the follwoing location (hold <b>Ctrl</b> to draw):<p> <b>89<b> <p>",
        "<p>Imagine there are five items on the red dots. Deliver the items from the red spots to the follwoing location (hold <b>Ctrl</b> to draw):<p> <b>72<b> <p>",
        "<p>Imagine there are five items on the red dots. Deliver the items from the red spots to the follwoing location (hold <b>Ctrl</b> to draw):<p> <b>31<b> <p>",
        "<p>Imagine there are five items on the red dots. Deliver the items from the red spots to the follwoing location (hold <b>Ctrl</b> to draw):<p> <b>41<b> <p>",
        "<p>Imagine there are five items on the red dots. Deliver the items from the red spots to the follwoing location (hold <b>Ctrl</b> to draw):<p> <b>76<b> <p>",
        "<p>Imagine there are five items on the red dots. Deliver the items from the red spots to the follwoing location (hold <b>Ctrl</b> to draw):<p> <b>18<b> <p>",
        "<p>Imagine there are five items on the red dots. Deliver the items from the red spots to the follwoing location (hold <b>Ctrl</b> to draw):<p> <b>57<b> <p>",
        "<p>Imagine there are five items on the red dots. Deliver the items from the red spots to the follwoing location (hold <b>Ctrl</b> to draw):<p> <b>22<b> <p>",
    ];


    var Venice1_prompt_diverse = [
        "<p>Imagine there are five items on the red dot. Deliver the items from the red spot to the following locations (hold <b>Ctrl</b> to draw):<p> <b>41, 89, 76, 26, 94<b> <p>",
        "<p>Imagine there are five items on the red dot. Deliver the items from the red spot to the following locations (hold <b>Ctrl</b> to draw):<p> <b>22, 78, 34, 29, 14<b> <p>",
        "<p>Imagine there are five items on the red dot. Deliver the items from the red spot to the following locations (hold <b>Ctrl</b> to draw):<p> <b>10, 22, 99, 52, 75<b> <p>",
        "<p>Imagine there are five items on the red dot. Deliver the items from the red spot to the following locations (hold <b>Ctrl</b> to draw):<p> <b>13, 16, 62, 19, 45<b> <p>",
        "<p>Imagine there are five items on the red dot. Deliver the items from the red spot to the following locations (hold <b>Ctrl</b> to draw):<p> <b>15, 59, 37, 92, 61<b> <p>",
        "<p>Imagine there are five items on the red dot. Deliver the items from the red spot to the following locations (hold <b>Ctrl</b> to draw):<p> <b>62, 32, 44, 93, 10<b> <p>",
        "<p>Imagine there are five items on the red dot. Deliver the items from the red spot to the following locations (hold <b>Ctrl</b> to draw):<p> <b>23, 18, 31, 40, 12<b> <p>",
        "<p>Imagine there are five items on the red dot. Deliver the items from the red spot to the following locations (hold <b>Ctrl</b> to draw):<p> <b>48, 57, 72, 29, 39<b> <p>",
        "<p>Imagine there are five items on the red dot. Deliver the items from the red spot to the following locations (hold <b>Ctrl</b> to draw):<p> <b>23, 81, 12, 39, 41<b> <p>",
        "<p>Imagine there are five items on the red dot. Deliver the items from the red spot to the following locations (hold <b>Ctrl</b> to draw):<p> <b>71, 16, 38, 80, 53<b> <p>",
    ];

    // between task message
    var task1_done = {
        type: jsPsychInstructions,
        pages: [
            '<p style="font-size:32px;font-weight:bold;">End of Task 1<p> ' +
            '<p style="class=positivefeedback;font-size:24px">' +
            'You have finished the first of two tasks. Whenever you are ready to continue, please click Next to start the second half of the experiment.'
        ],
        show_clickable_nav: true,

        on_start: function () {
            jsPsych.pluginAPI.clearAllTimeouts();
        },

    };


    async function createExperiment() {
        const condition = await jsPsychPipe.getCondition(expID);


        //linear condition 'if'
        if (condition == 0) {

            var Venice1_counter = -1;

            var Venice1_task = {
                type: jsPsychSketchpad,
                prompt: function () {
                    Venice1_counter += 1;
                    return Venice1_prompt_linear[Venice1_counter]
                },
                prompt_location: 'abovecanvas',
                background_image: Maze_Linear,
                key_to_draw: 'Control',
                finished_button_label: 'Continue',
                canvas_width: 1080,
                canvas_height: 750,
                canvas_border_width: 3,
                save_strokes: false,
                show_clear_button: false,

                on_start: function () {
                    let_counter += 1;
                    jsPsych.pluginAPI.clearAllTimeouts();
                },

                on_finish: function (data) {
                    const filename = `${subject_id}_${jsPsych.getProgress().current_trial_global}_image.png`;
                    jsPsychPipe.saveBase64Data(expID, filename, data.png);
                    // delete the base64 data to save space. store the filename instead.
                    data.png = filename;
                },

            };

            var let_counter = -1;

            var let_set_task = {
                type: jsPsychSurveyHtmlForm,
                preamble: function () {
                    return shuffled_let_set[let_counter]
                },
                autofocus: 'test-resp-box',
                button_label: "Enter",
                timeline: [
                    { html: '<p> <input name="let_linear" type="text" id="test-resp-box" /></p>', },
                ],
                sample: {
                    type: 'fixed-repetitions',
                    size: 25
                },
            }

            var let_set_procedures = {
                timeline: [let_set_task, Venice1_task],
                repetitions: let_set.length,

                on_start: function () {
                    jsPsych.pluginAPI.setTimeout(function () {
                        jsPsych.endCurrentTimeline();
                        jsPsych.finishTrial({ Response: "timeout" });
                    }, tr_duration);
                }
            }

            var Venice2_counter = -1;

            var Venice2_task = {
                type: jsPsychSketchpad,
                prompt: function () {
                    Venice2_counter += 1;
                    return Venice1_prompt_linear[Venice2_counter]
                },

                prompt_location: 'abovecanvas',
                background_image: Maze_Linear,
                key_to_draw: 'Control',
                finished_button_label: 'Continue',
                canvas_width: 1080,
                canvas_height: 750,
                canvas_border_width: 3,
                save_strokes: false,
                show_clear_button: false,

                on_start: function () {
                    jsPsych.pluginAPI.clearAllTimeouts();
                },

                on_finish: function (data) {
                    const filename = `${subject_id}_${jsPsych.getProgress().current_trial_global}_image.png`;
                    jsPsychPipe.saveBase64Data(expID, filename, data.png);
                    // delete the base64 data to save space. store the filename instead.
                    data.png = filename;
                },

            };

            var CRAP_counter = -1;

            var CRAP_set_task = {
                type: jsPsychSurveyHtmlForm,
                preamble: function () {
                    CRAP_counter += 1;
                    return shuffled_CRAP_set[CRAP_counter]
                },

                html:
                    '<p> <input name="CRAP_linear" type="text" id="test-resp-box"  style="width:200px;height:50px;" /></p>',

                autofocus: 'test-resp-box',
                button_label: "Enter",

                on_start: function () {
                    jsPsych.pluginAPI.clearAllTimeouts();

                    jsPsych.pluginAPI.setTimeout(function () {
                        jsPsych.finishTrial({ Response: "timeout" });
                    }, tr_duration);
                },
            };



            var CRAP_procedures = {

                timeline: [CRAP_set_task, Venice2_task],
                repetitions: CRAP_set.length,

            }

            // Use the randomization plugin to randomly choose which function to push first
            var functionOrder = jsPsych.randomization.shuffle([let_set_procedures, CRAP_procedures]);

            // Push the functions into the timeline in the randomly determined order
            if (functionOrder[0] == let_set_procedures) {

                var let_set_instruction_linear1 = {
                    type: jsPsychInstructions,
                    pages: [

                        '<p style="font-size:32px;font-weight:bold;">Instructions<p> ' +
                        '<p style="class=positivefeedback;font-size:24px">' +
                        'In this task, you will see the first two letters of possible words. For each pair of letters,' +
                        ' you will have <b>30 seconds</b> to type in as many English words as you can that begin with those letters. ' +
                        'For example, for <b>lo</b>, you can write down words such as love, low, lobster, lord,' +
                        ' locomotion, and so on.<p>' +
                        '<p style="font-size:24px;">You <b>cannot</b> use proper nouns, such as names of places or people (e. g. London, Lora). You can' +
                        ' be specific in your responses, but do not waste your time by adding different suffixes. For example, ' +
                        'love, lover, lovely and loved will be counted just once. Keep in mind that wrong words do not ' +
                        'have negative points; so, if you doubt whether a word is acceptable, just type it in, hit Enter to be saved instantly, and continue ' +
                        'searching for more words.',
                        '<p style="font-size:24px;">Before each trial, you will be shown the following map in which you need to deliver some items from the starting points ' +
                        '(the red dots on the map) to a location. To do this, simply draw five lines, one by one, from the red dots to the location that will be mentioned above the map;' +
                        ' To draw a line hold <b>Ctrl</b> button on your keyboard and move your mouse cursor. ' +
                        'You should draw the lines oonly through the roads and without crossing over the bulidings, and then click on the <b>continue</b> button ' +
                        'to see the next trial.' +
                        ' Do not rush in delivering the items as your 30 seconds time to complete a trial will begin only after ' +
                        'pushing the Continue button. You will see a video as an example  of how to deliver the items.' + '<br>' +
                        '<img src="Venice_Map.png"></img>'
                    ],
                    show_clickable_nav: true
                };
                timeline.push(let_set_instruction_linear1)
                timeline.push(functionOrder[0]);
                timeline.push(task1_done);

                var CRAP_instruction_linear2 = {
                    type: jsPsychInstructions,
                    pages: [
                        '<p style="font-size:32px;font-weight:bold;">Instructions<p> ' +
                        '<p style="class=positivefeedback;font-size:24px">' +
                        'In this task, you will see three words and your job is to find the fourth word that makes a common' +
                        ' two-word phrase with each of them. For example, if you saw “aid    rubber    wagon”, then the correct'
                        + ' fourth word that makes a common two-word phrase with each of them is “band” — as in band-aid, rubber' +
                        ' band, and bandwagon. Another example is “cream    skate    water”.   What word makes a common two-word ' +
                        'phrase with each of them? It is ice — as in, ice cream, ice skate, and ice water. ' +
                        '<p style="class=positivefeedback;font-size:24px">' +
                        'For each set of three words, you will have up to <b>30 seconds</b> to come up with your solution.' +
                        ' Please type your solution and hit Enter right away.',
                        '<p style="font-size:24px;">Like the previous task, before each trial, you will be shown the following map' +
                        ' in which you need to deliver some items from the starting points ' +
                        '(the red dots on the map) to a location. To do this, simply draw five lines, one by one,' +
                        ' from the red dots to the location that will be mentioned above the map;' +
                        ' To draw a line hold <b>Ctrl</b> button on your keyboard and move your mouse cursor. ' +
                        'You should draw the lines only through the roads and without crossing over the bulidings,' +
                        ' and then click on the <b>Continue</b> button to see the next trial.' +
                        ' Do not rush in delivering the items as your 30 seconds time to complete a trial will begin only after ' +
                        'pushing the Continue button.' + '<br>' +
                        '<img src="Venice_Map.png"></img>'
                    ],
                    show_clickable_nav: true
                };

                timeline.push(CRAP_instruction_linear2)
                timeline.push(functionOrder[1]);
            }

            if (functionOrder[0] == CRAP_procedures) {


                var CRAP_instruction_linear1 = {
                    type: jsPsychInstructions,
                    pages: [
                        '<p style="font-size:32px;font-weight:bold;">Instructions<p> ' +
                        '<p style="class=positivefeedback;font-size:24px">' +
                        'In this task, you will see three words and your job is to find the fourth word that makes a common' +
                        ' two-word phrase with each of them. For example, if you saw “aid    rubber    wagon”, then the correct'
                        + ' fourth word that makes a common two-word phrase with each of them is “band” — as in band-aid, rubber' +
                        ' band, and bandwagon. Another example is “cream    skate    water”.   What word makes a common two-word ' +
                        'phrase with each of them? It is ice — as in, ice cream, ice skate, and ice water. ' +
                        '<p style="class=positivefeedback;font-size:24px">' +
                        'For each set of three words, you will have up to <b>30 seconds</b> to come up with your solution.' +
                        ' Please type your solution and hit Enter right away.',
                        '<p style="font-size:24px;">Before each trial, you will be shown the following map' +
                        ' in which you need to deliver some items from the starting points ' +
                        '(the red dots on the map) to a location. To do this, simply draw five lines, one by one,' +
                        ' from the red dots to the location that will be mentioned above the map;' +
                        ' To draw a line hold <b>Ctrl</b> button on your keyboard and move your mouse cursor. ' +
                        'You should draw the lines only through the roads and without crossing over the bulidings,' +
                        ' and then click on the <b>Continue</b> button to see the next trial.' +
                        ' Do not rush in delivering the items as your 30 seconds time to complete a trial will begin only after ' +
                        'pushing the Continue button. You will see a video as an example of how to deliver the items.' + '<br>' +
                        '<img src="Venice_Map.png"></img>'
                    ],
                    show_clickable_nav: true

                };
                timeline.push(CRAP_instruction_linear1)
                timeline.push(functionOrder[0]);
                timeline.push(task1_done);
                var let_set_instruction_linear2 = {
                    type: jsPsychInstructions,
                    pages: [

                        '<p style="font-size:32px;font-weight:bold;">Instructions<p> ' +
                        '<p style="class=positivefeedback;font-size:24px">' +
                        'In this task, you will see the first two letters of possible words. For each pair of letters,' +
                        ' you will have <b>30 seconds</b> to type in as many English words as you can that begin with those letters. ' +
                        'For example, for <b>lo</b>, you can write down words such as love, low, lobster, lord,' +
                        ' locomotion, and so on.<p>' +
                        '<p style="font-size:24px;">You <b>cannot</b> use proper nouns, such as names of places or people (e. g. London, Lora). You can' +
                        ' be specific in your responses, but do not waste your time by adding different suffixes. For example, ' +
                        'love, lover, lovely and loved will be counted just once. Keep in mind that wrong words do not ' +
                        'have negative points; so, if you doubt whether a word is acceptable, just type it in, hit Enter to be saved instantly, and continue ' +
                        'searching for more words.',
                        '<p style="font-size:24px;">Like the previous task, before each trial, you will be shown the following map in which you need to deliver some items from the starting points ' +
                        '(the red dots on the map) to a location. To do this, simply draw five lines, one by one, from the red dots to the location that will be mentioned above the map;' +
                        ' To draw a line hold <b>Ctrl</b> button on your keyboard and move your mouse cursor. ' +
                        'You should draw the lines through the roads and without crossing over the bulidings, and then click on the <b>continue</b> button ' +
                        'to see the next trial.' +
                        ' Do not rush in delivering the items as your 30 seconds time to complete a trial will begin only after ' +
                        'pushing the Continue button.' + '<br>' +
                        '<img src="Venice_Map.png"></img>'
                    ],
                    show_clickable_nav: true
                };
                timeline.push(let_set_instruction_linear2);
                timeline.push(functionOrder[1]);

            }

        };


        //diverse condition 'if'
        if (condition == 1) {
            var Venice1_counter = -1;

            var Venice1_task = {
                type: jsPsychSketchpad,
                prompt: function () {
                    Venice1_counter += 1;
                    return Venice1_prompt_diverse[Venice1_counter]
                },
                prompt_location: 'abovecanvas',
                background_image: Maze_Diverse,
                key_to_draw: 'Control',
                finished_button_label: 'Continue',
                canvas_width: 1080,
                canvas_height: 750,
                canvas_border_width: 3,
                save_strokes: false,
                show_clear_button: false,

                on_start: function () {
                    let_counter += 1;
                    jsPsych.pluginAPI.clearAllTimeouts();
                },

                on_finish: function (data) {
                    const filename = `${subject_id}_${jsPsych.getProgress().current_trial_global}_image.png`;
                    jsPsychPipe.saveBase64Data(expID, filename, data.png);
                    // delete the base64 data to save space. store the filename instead.
                    data.png = filename;
                },

            };

            var let_counter = -1;

            var let_set_task = {
                type: jsPsychSurveyHtmlForm,
                preamble: function () {
                    return shuffled_let_set[let_counter]
                },
                autofocus: 'test-resp-box',
                button_label: "Enter",
                timeline: [
                    { html: '<p> <input name="let_diverse" type="text" id="test-resp-box" /></p>', },
                ],
                sample: {
                    type: 'fixed-repetitions',
                    size: 25
                },
            }

            var let_set_procedures = {
                timeline: [let_set_task, Venice1_task],
                repetitions: let_set.length,

                on_start: function () {
                    jsPsych.pluginAPI.setTimeout(function () {
                        jsPsych.endCurrentTimeline();
                        jsPsych.finishTrial({ Response: "timeout" });
                    }, tr_duration);
                }
            }

            var Venice2_counter = -1;

            var Venice2_task = {
                type: jsPsychSketchpad,
                prompt: function () {
                    Venice2_counter += 1;
                    return Venice1_prompt_diverse[Venice2_counter]
                },
                prompt_location: 'abovecanvas',
                background_image: Maze_Diverse,
                key_to_draw: 'Control',
                finished_button_label: 'Continue',
                canvas_width: 1080,
                canvas_height: 750,
                canvas_border_width: 3,
                save_strokes: false,
                show_clear_button: false,

                on_start: function () {
                    jsPsych.pluginAPI.clearAllTimeouts();
                },

                on_finish: function (data) {
                    const filename = `${subject_id}_${jsPsych.getProgress().current_trial_global}_image.png`;
                    jsPsychPipe.saveBase64Data(expID, filename, data.png);
                    // delete the base64 data to save space. store the filename instead.
                    data.png = filename;
                },

            };

            var CRAP_counter = -1;

            var CRAP_set_task = {
                type: jsPsychSurveyHtmlForm,
                preamble: function () {
                    CRAP_counter += 1;
                    return shuffled_CRAP_set[CRAP_counter]
                },

                html:
                    '<p> <input name="CRAP_diverse" type="text" id="test-resp-box"  style="width:200px;height:50px;" /></p>',

                autofocus: 'test-resp-box',
                button_label: "Enter",

                on_start: function () {
                    jsPsych.pluginAPI.clearAllTimeouts();

                    jsPsych.pluginAPI.setTimeout(function () {
                        jsPsych.finishTrial({ Response: "timeout" });
                    }, tr_duration);
                },
            };

            var CRAP_procedures = {

                timeline: [CRAP_set_task, Venice2_task],
                repetitions: CRAP_set.length,

            }

            // Use the randomization plugin to randomly choose which function to push first
            var functionOrder = jsPsych.randomization.shuffle([let_set_procedures, CRAP_procedures]);

            // Push the functions into the timeline in the randomly determined order
            if (functionOrder[0] == let_set_procedures) {


                var let_set_instruction_diverse1 = {
                    type: jsPsychInstructions,
                    pages: [
                        '<p style="font-size:32px;font-weight:bold;">Instructions<p> ' +
                        '<p style="class=positivefeedback;font-size:24px">' +
                        'In this task, you will see the first two letters of possible words. For each pair of letters,' +
                        ' you will have <b>30 seconds</b> to type in as many English words as you can that begin with those letters. ' +
                        'For example, for <b>lo</b>, you can write down words such as love, low, lobster, lord,' +
                        ' locomotion, and so on.<p>' +
                        '<p style="font-size:24px;">You <b>cannot</b> use proper nouns, such as names of places or people (e. g. London, Lora). You can' +
                        ' be specific in your responses, but do not waste your time by adding different suffixes. For example, ' +
                        'love, lover, lovely and loved will be counted just once. Keep in mind that wrong words do not ' +
                        'have negative points; so, if you doubt whether a word is acceptable, just type it in, hit Enter to be saved instantly, and continue ' +
                        'searching for more words.',
                        '<p style="font-size:24px;">Before each trial, you will be shown the following map in which you need to deliver some items from the starting point ' +
                        '(the red dot on the map) to different locations. To do this, simply draw five lines, one by one,' +
                        ' from the red dot to the locations that will be mentioned above the map;' +
                        ' To draw a line hold <b>Ctrl</b> button on your keyboard and move your mouse cursor. ' +
                        'You should draw the lines only through the roads and without crossing over the bulidings, and then click on the <b>Continue</b> button ' +
                        'to see the next trial. Do not rush in delivering the items as your 30 seconds time to complete a trial will begin only after ' +
                        'pushing the Continue button. You will see a video as an example of how to deliver the items.' + '<br>' +
                        '<img src="Venice_Map.png"></img>'
                    ],
                    show_clickable_nav: true
                };
                timeline.push(let_set_instruction_diverse1);
                timeline.push(functionOrder[0]);
                timeline.push(task1_done);
                var CRAP_instruction_diverse2 = {
                    type: jsPsychInstructions,
                    pages: [
                        '<p style="font-size:32px;font-weight:bold;">Instructions<p> ' +
                        '<p style="class=positivefeedback;font-size:24px">' +
                        'In this task, you will see three words and your job is to find the fourth word that makes a common' +
                        ' two-word phrase with each of them. For example, if you saw “aid    rubber    wagon”, then the correct'
                        + ' fourth word that makes a common two-word phrase with each of them is “band” — as in band-aid, rubber' +
                        ' band, and bandwagon. Another example is “cream    skate    water”.   What word makes a common two-word ' +
                        'phrase with each of them? It is ice — as in, ice cream, ice skate, and ice water. ' +
                        '<p style="class=positivefeedback;font-size:24px">' +
                        'For each set of three words, you will have up to <b>30 seconds</b> to come up with your solution.' +
                        ' Please type your solution and hit Enter right away.',
                        '<p style="font-size:24px;">Like the previous task, before each trial, you will be shown the following map' +
                        ' in which you need to deliver some items from the starting point ' +
                        '(the red dot on the map) to different locations. To do this, simply draw five lines, one by one,' +
                        ' from the red dot to the locations that will be mentioned above the map;' +
                        ' To draw a line hold <b>Ctrl</b> button on your keyboard and move your mouse cursor. ' +
                        'You should draw the lines only through the roads and without crossing over the bulidings,' +
                        ' and then click on the <b>Continue</b> button to see the next trial. Do not rush in' +
                        ' delivering the items as your 30 seconds time to complete a trial will begin only after ' +
                        'pushing the Continue button.' + '<br>' +
                        '<img src="Venice_Map.png"></img>'
                    ],
                    show_clickable_nav: true
                };
                timeline.push(CRAP_instruction_diverse2);
                timeline.push(functionOrder[1]);
            }

            if (functionOrder[0] == CRAP_procedures) {

                var CRAP_instruction_diverse1 = {
                    type: jsPsychInstructions,
                    pages: [
                        '<p style="font-size:32px;font-weight:bold;">Instructions<p> ' +
                        '<p style="class=positivefeedback;font-size:24px">' +
                        'In this task, you will see three words and your job is to find the fourth word that makes a common' +
                        ' two-word phrase with each of them. For example, if you saw “aid    rubber    wagon”, then the correct'
                        + ' fourth word that makes a common two-word phrase with each of them is “band” — as in band-aid, rubber' +
                        ' band, and bandwagon. Another example is “cream    skate    water”.   What word makes a common two-word ' +
                        'phrase with each of them? It is ice — as in, ice cream, ice skate, and ice water. ' +
                        '<p style="class=positivefeedback;font-size:24px">' +
                        'For each set of three words, you will have up to <b>30 seconds</b> to come up with your solution.' +
                        ' Please type your solution and hit Enter right away.',
                        '<p style="font-size:24px;">Before each trial, you will be shown the following map' +
                        ' in which you need to deliver some items from the starting point ' +
                        '(the red dot on the map) to different locations. To do this, simply draw five lines, one by one,' +
                        ' from the red dot to the locations that will be mentioned above the map;' +
                        ' To draw a line hold <b>Ctrl</b> button on your keyboard and move your mouse cursor. ' +
                        'You should draw the lines only through the roads and without crossing over the bulidings,' +
                        ' and then click on the <b>Continue</b> button to see the next trial. Do not rush in' +
                        ' delivering the items as your 30 seconds time to complete a trial will begin only after ' +
                        'pushing the Continue button. You will see a video as an example of how to deliver the items.' + '<br>' +
                        '<img src="Venice_Map.png"></img>'
                    ],
                    show_clickable_nav: true
                };
                timeline.push(CRAP_instruction_diverse1);
                timeline.push(functionOrder[0]);
                timeline.push(task1_done);

                var let_set_instruction_diverse2 = {
                    type: jsPsychInstructions,
                    pages: [
                        '<p style="font-size:32px;font-weight:bold;">Instructions<p> ' +
                        '<p style="class=positivefeedback;font-size:24px">' +
                        'In this task, you will see the first two letters of possible words. For each pair of letters,' +
                        ' you will have <b>30 seconds</b> to type in as many English words as you can that begin with those letters. ' +
                        'For example, for <b>lo</b>, you can write down words such as love, low, lobster, lord,' +
                        ' locomotion, and so on.<p>' +
                        '<p style="font-size:24px;">You <b>cannot</b> use proper nouns, such as names of places or people (e. g. London, Lora). You can' +
                        ' be specific in your responses, but do not waste your time by adding different suffixes. For example, ' +
                        'love, lover, lovely and loved will be counted just once. Keep in mind that wrong words do not ' +
                        'have negative points; so, if you doubt whether a word is acceptable, just type it in, hit Enter to be saved instantly, and continue ' +
                        'searching for more words.',
                        '<p style="font-size:24px;">Like the previous task, before each trial, you will be shown the following map in which you need to deliver some items from the starting point ' +
                        '(the red dot on the map) to different locations. To do this, simply draw five lines, one by one,' +
                        ' from the red dot to the locations that will be mentioned above the map;' +
                        ' To draw a line hold <b>Ctrl</b> button on your keyboard and move your mouse cursor. ' +
                        'You should draw the lines only through the roads and without crossing over the bulidings, and then click on the <b>Continue</b> button ' +
                        'to see the next trial. Do not rush in delivering the items as your 30 seconds time to complete a trial will begin only after ' +
                        'pushing the Continue button.' + '<br>' +
                        '<img src="Venice_Map.png"></img>'
                    ],
                    show_clickable_nav: true
                };
                timeline.push(let_set_instruction_diverse2);

                timeline.push(functionOrder[1]);

            }

        };


        // After the main two tasks message
        var tasks_finished = {
            type: jsPsychInstructions,
            pages: [
                '<p style="font-size:32px;font-weight:bold;">End of Task 2<p> ' +
                '<p style="class=positivefeedback;font-size:24px">' +
                'Great! The experiment is almost done! Next, you will see a list of names. Some of them are authors of books or novels, and some are not.' +
                ' Please put a check mark next to the names that you know <b>for sure</b> are authors. There is a penalty ' +
                'for guessing, so you should check only those names about which you are absolutely certain.'
            ],
            show_clickable_nav: true,

            on_start: function () {
                jsPsych.pluginAPI.clearAllTimeouts();
            },

        };
        timeline.push(tasks_finished);

        jsPsych.run(timeline);

    }

    createExperiment();


</script>

</html>
